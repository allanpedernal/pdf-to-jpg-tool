<!DOCTYPE html>
<html lang="en" dir="ltr" itemscope itemtype="https://schema.org/WebApplication">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
  
  <!-- DNS Prefetch & Preconnect for Performance - Optimized for mobile -->
  <script>
    // Only preconnect on desktop, mobile benefits from delayed connections
    const isMobilePrefetch = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768;
    if (!isMobilePrefetch) {
      // Desktop: preconnect for faster loading
      const preconnects = [
        'https://cdn.tailwindcss.com',
        'https://cdnjs.cloudflare.com',
        'https://cdn.jsdelivr.net'
      ];
      preconnects.forEach(url => {
        const link = document.createElement('link');
        link.rel = 'preconnect';
        link.href = url;
        document.head.appendChild(link);
      });
    }
  </script>
  
  <!-- Resource Hints -->
  <link rel="preload" href="/preview.jpg" as="image" type="image/jpeg" fetchpriority="low">
  
  <!-- Additional Mobile & Device Meta Tags -->
  <meta name="format-detection" content="telephone=no">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="PDF to JPG">
  <meta name="application-name" content="PDF to JPG Converter">
  <meta name="msapplication-TileColor" content="#0f172a">
  <meta name="msapplication-config" content="/browserconfig.xml">
  
  <!-- Geo & Language Meta Tags -->
  <meta name="geo.region" content="US">
  <meta name="geo.placename" content="United States">
  <meta name="ICBM" content="39.8283, -98.5795">
  <meta http-equiv="content-language" content="en-US">
  
  <!-- Security & Privacy Meta Tags -->
  <meta name="referrer" content="strict-origin-when-cross-origin">
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
  <meta http-equiv="X-XSS-Protection" content="1; mode=block">
  
  <!-- Primary SEO Meta Tags -->
  <title>PDF to JPG Converter - Free Online PDF to Image Converter Tool</title>
  <meta name="title" content="PDF to JPG Converter - Free Online PDF to Image Converter Tool">
  <meta name="description" content="Convert PDF to JPG online for free. Fast, high-quality PDF to image converter for multi-page PDFs. No software required. Convert PDF pages to JPEG images instantly in your browser.">
  <meta name="keywords" content="pdf to jpg, pdf to image, pdf converter, pdf to jpeg, convert pdf to jpg, pdf to jpg online, free pdf converter, pdf to image converter, pdf pages to images, pdf to jpg converter online">
  <meta name="author" content="PDF Tools">
  <meta name="robots" content="index, follow">
  <meta name="language" content="English">
  <meta name="revisit-after" content="7 days">
  <meta name="theme-color" content="#0f172a">
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="/manifest.json">
  
  <!-- Critical CSS - Inline for above-the-fold content -->
  <style>
    /* Critical styles for initial render */
    body{margin:0;padding:0;font-family:system-ui,-apple-system,sans-serif;background:linear-gradient(135deg,#0f172a 0%,#1e293b 50%,#0f172a 100%);color:#f8fafc;min-height:100vh}
    .bg-gradient-to-br{background:linear-gradient(135deg,#0f172a 0%,#1e293b 50%,#0f172a 100%)}
    .text-slate-50{color:#f8fafc}
    .min-h-screen{min-height:100vh}
    .flex{display:flex}
    .flex-col{flex-direction:column}
    .items-center{align-items:center}
    .justify-center{justify-content:center}
    .w-full{width:100%}
    .max-w-full{max-width:100%}
    .overflow-x-hidden{overflow-x:hidden}
    .text-center{text-align:center}
    .mb-8{margin-bottom:2rem}
    .mb-4{margin-bottom:1rem}
    .mb-3{margin-bottom:0.75rem}
    .mb-2{margin-bottom:0.5rem}
    .mb-6{margin-bottom:1.5rem}
    .px-4{padding-left:1rem;padding-right:1rem}
    .py-6{padding-top:1.5rem;padding-bottom:1.5rem}
    .text-4xl{font-size:2.25rem;line-height:2.5rem}
    .font-bold{font-weight:700}
    .text-lg{font-size:1.125rem;line-height:1.75rem}
    .text-sm{font-size:0.875rem;line-height:1.25rem}
    .border-2{border-width:2px}
    .border-dashed{border-style:dashed}
    .rounded-xl{border-radius:0.75rem}
    .cursor-pointer{cursor:pointer}
    .hidden{display:none}
    @media(min-width:1024px){.lg\:block{display:block}}
    *{box-sizing:border-box}
    html,body{overflow-x:hidden;max-width:100%}
    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 0 20px rgba(59, 130, 246, 0.4); }
      50% { box-shadow: 0 0 30px rgba(59, 130, 246, 0.7); }
    }
    @keyframes slide-in {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes bounce-in {
      0% { transform: scale(0.8); opacity: 0; }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); opacity: 1; }
    }
    @keyframes spin-slow {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    .animate-pulse-glow {
      animation: pulse-glow 2s ease-in-out infinite;
    }
    .animate-slide-in {
      animation: slide-in 0.5s ease-out;
    }
    .animate-bounce-in {
      animation: bounce-in 0.6s ease-out;
    }
    .animate-spin-slow {
      animation: spin-slow 3s linear infinite;
    }
    .progress-bar {
      transition: width 0.3s ease-out;
    }
    /* Sidebar width for ads - Updated to 300px for AdSense fluid ads */
    .lg\:w-300 {
      width: 300px;
    }
    @media (min-width: 1024px) {
      .lg\:w-300 {
        width: 300px;
      }
    }
    /* Prevent horizontal scrollbar */
    html, body {
      overflow-x: hidden;
      max-width: 100%;
    }
  </style>
  
  <!-- Tailwind CDN - Optimized loading for mobile -->
  <script>
    // Load Tailwind with mobile optimization
    const isMobileTailwind = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768;
    
    function loadTailwind() {
      const script = document.createElement('script');
      script.src = 'https://cdn.tailwindcss.com';
      script.defer = true;
      document.head.appendChild(script);
    }
    
    if (isMobileTailwind) {
      // On mobile: load after initial render
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', () => setTimeout(loadTailwind, 100));
      } else {
        setTimeout(loadTailwind, 100);
      }
    } else {
      // Desktop: load immediately with defer
      loadTailwind();
    }
  </script>

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.pdf-to-jpg-tool.com/">
  <meta property="og:title" content="PDF to JPG Converter - Free Online PDF to Image Converter Tool">
  <meta property="og:description" content="Convert PDF to JPG online for free. Fast, high-quality PDF to image converter for multi-page PDFs. No software required.">
  <meta property="og:image" content="https://www.pdf-to-jpg-tool.com/preview.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:site_name" content="PDF Tools">
  <meta property="og:locale" content="en_US">
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://www.pdf-to-jpg-tool.com/">
  <meta name="twitter:title" content="PDF to JPG Converter - Free Online PDF to Image Converter Tool">
  <meta name="twitter:description" content="Convert PDF to JPG online for free. Fast, high-quality PDF to image converter for multi-page PDFs. No software required.">
  <meta name="twitter:image" content="https://www.pdf-to-jpg-tool.com/preview.jpg">
  <meta name="twitter:creator" content="@allanpedernal">
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://www.pdf-to-jpg-tool.com/">
  
  <!-- Structured Data (JSON-LD) for SEO -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "PDF to JPG Converter",
    "description": "Free online tool to convert PDF files to JPG images. Convert multi-page PDFs to high-quality JPEG images instantly in your browser.",
    "url": "https://www.pdf-to-jpg-tool.com/",
    "applicationCategory": "UtilityApplication",
    "operatingSystem": "Any",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.8",
      "ratingCount": "1250"
    },
    "featureList": [
      "Convert PDF to JPG",
      "Multi-page PDF support",
      "High-quality image output",
      "No file upload required",
      "100% free and secure",
      "Works in browser",
      "No software installation needed"
    ],
    "browserRequirements": "Requires JavaScript. Requires HTML5.",
    "softwareVersion": "1.0",
    "releaseNotes": "Free PDF to JPG converter tool",
    "screenshot": "https://www.pdf-to-jpg-tool.com/preview.jpg"
  }
  </script>
  
  <!-- Additional Structured Data for HowTo -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "HowTo",
    "name": "How to Convert PDF to JPG Online",
    "description": "Step-by-step guide to convert PDF files to JPG images using our free online converter tool.",
    "step": [
      {
        "@type": "HowToStep",
        "name": "Select PDF File",
        "text": "Drag and drop your PDF file or click to browse and select a PDF file from your computer.",
        "position": 1
      },
      {
        "@type": "HowToStep",
        "name": "Adjust Settings",
        "text": "Set JPEG quality (0.1-1.0) and scale (0.5-3.0) according to your needs. Higher quality and scale produce larger but better images.",
        "position": 2
      },
      {
        "@type": "HowToStep",
        "name": "Convert PDF",
        "text": "Click the 'Convert PDF to JPG' button to start the conversion process.",
        "position": 3
      },
      {
        "@type": "HowToStep",
        "name": "Download Images",
        "text": "Wait for the conversion to complete. All JPG images will be automatically downloaded as a ZIP file.",
        "position": 4
      }
    ]
  }
  </script>
  
  <!-- Organization Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "PDF Tools",
    "url": "https://www.pdf-to-jpg-tool.com/",
    "logo": "https://www.pdf-to-jpg-tool.com/preview.jpg",
    "description": "Free online PDF tools and converters",
    "sameAs": [
      "https://twitter.com/allanpedernal"
    ],
    "contactPoint": {
      "@type": "ContactPoint",
      "contactType": "Customer Service",
      "availableLanguage": ["English"]
    }
  }
  </script>
  
  <!-- BreadcrumbList Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://www.pdf-to-jpg-tool.com/"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "PDF to JPG Converter",
        "item": "https://www.pdf-to-jpg-tool.com/"
      }
    ]
  }
  </script>
  
  <!-- SoftwareApplication Structured Data (Enhanced) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "PDF to JPG Converter",
    "applicationCategory": "UtilityApplication",
    "operatingSystem": "Any",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.8",
      "ratingCount": "1250"
    },
    "softwareVersion": "1.0",
    "releaseNotes": "Free PDF to JPG converter tool",
    "screenshot": "https://www.pdf-to-jpg-tool.com/preview.jpg",
    "downloadUrl": "https://www.pdf-to-jpg-tool.com/",
    "url": "https://www.pdf-to-jpg-tool.com/"
  }
  </script>
  
  <!-- FAQ Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "How do I convert PDF to JPG?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Simply drag and drop your PDF file into the upload area, adjust the quality and scale settings if needed, then click 'Convert PDF to JPG'. The conversion happens instantly in your browser, and all JPG images will be downloaded as a ZIP file."
        }
      },
      {
        "@type": "Question",
        "name": "Is my PDF file uploaded to a server?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "No! Your PDF files never leave your computer. All conversion happens locally in your browser using JavaScript, ensuring complete privacy and security. No uploads, no server storage, no data transmission."
        }
      },
      {
        "@type": "Question",
        "name": "What quality settings should I use?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Quality ranges from 0.1 (lowest, smallest file) to 1.0 (highest, largest file). For most purposes, 0.85 provides an excellent balance between quality and file size. Use 1.0 for maximum quality when file size isn't a concern, or lower values for smaller file sizes."
        }
      },
      {
        "@type": "Question",
        "name": "What does the scale setting do?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Scale controls the resolution of the output JPG images. 1.0 = original PDF size, 2.0 = double the resolution, 0.5 = half the resolution. Higher scale values produce larger, sharper images but also larger file sizes. Default is 1.6 for optimal quality."
        }
      },
      {
        "@type": "Question",
        "name": "Can I convert multi-page PDFs?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes! Our PDF to JPG converter supports PDFs with any number of pages. Each page will be converted to a separate JPG image, and all images will be packaged in a single ZIP file for easy download."
        }
      },
      {
        "@type": "Question",
        "name": "Is this service free?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes, completely free! There are no hidden costs, no subscriptions, no watermarks, and no limits on the number of PDFs you can convert. Convert as many PDFs to JPG as you need, whenever you need."
        }
      },
      {
        "@type": "Question",
        "name": "What browsers are supported?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Our PDF to JPG converter works on all modern browsers including Chrome, Firefox, Safari, Edge, and Opera. It also works on mobile browsers. No plugins or extensions are required."
        }
      },
      {
        "@type": "Question",
        "name": "How long does conversion take?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Conversion is nearly instantaneous! Since everything happens in your browser, there's no upload time or server processing delay. Most PDFs convert in just a few seconds, depending on the number of pages and your device's performance."
        }
      },
      {
        "@type": "Question",
        "name": "What file format will I get?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "You'll receive JPG (JPEG) image files. Each PDF page becomes a separate JPG file, and all files are packaged in a ZIP archive for convenient download. JPG is a widely supported image format compatible with all devices and software."
        }
      },
      {
        "@type": "Question",
        "name": "Can I convert password-protected PDFs?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Currently, password-protected PDFs cannot be converted. You'll need to remove the password protection from your PDF file first before converting it to JPG format."
        }
      }
    ]
  }
  </script>
  
  <!-- Google tag (gtag.js) - Delayed on mobile for better performance -->
  <script>
    // Initialize Analytics with mobile optimization
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    
    // Detect mobile
    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768;
    
    // Load Analytics immediately on desktop, delay on mobile
    function loadAnalytics() {
      const script = document.createElement('script');
      script.async = true;
      script.src = 'https://www.googletagmanager.com/gtag/js?id=G-G1CV3K3BXS';
      document.head.appendChild(script);
      
      script.onload = function() {
        gtag('js', new Date());
        gtag('config', 'G-G1CV3K3BXS', {
          'page_title': 'PDF to JPG Converter',
          'page_location': window.location.href
        });
        window.gtag = gtag;
      };
    }
    
    if (isMobile) {
      // On mobile: load after user interaction or 3 seconds
      let loaded = false;
      const loadOnInteraction = () => {
        if (!loaded) {
          loaded = true;
          loadAnalytics();
          ['touchstart', 'click', 'scroll'].forEach(e => window.removeEventListener(e, loadOnInteraction));
        }
      };
      ['touchstart', 'click', 'scroll'].forEach(e => window.addEventListener(e, loadOnInteraction, { once: true, passive: true }));
      setTimeout(() => { if (!loaded) loadAnalytics(); }, 3000);
    } else {
      // Desktop: load immediately
      loadAnalytics();
    }
    
    // Track conversion event function (available immediately)
    window.trackConversion = function(pages) {
      if (typeof gtag !== 'undefined') {
        gtag('event', 'pdf_conversion', {
          'event_category': 'PDF Tools',
          'event_label': 'PDF to JPG',
          'value': pages,
          'pages_converted': pages
        });
      } else {
        // Queue event if gtag not loaded yet
        window.dataLayer.push({
          'event': 'pdf_conversion',
          'event_category': 'PDF Tools',
          'event_label': 'PDF to JPG',
          'value': pages,
          'pages_converted': pages
        });
      }
    };
  </script>
  
  <!-- Google AdSense - Delayed on mobile for better performance -->
  <meta name="google-adsense-account" content="ca-pub-2042221703015293">
  <script>
    // Delay AdSense on mobile for better performance
    const isMobileAd = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768;
    
    function loadAdSense() {
      const script = document.createElement('script');
      script.async = true;
      script.src = 'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2042221703015293';
      script.crossOrigin = 'anonymous';
      document.head.appendChild(script);
    }
    
    if (isMobileAd) {
      // On mobile: load after page is interactive
      if (document.readyState === 'complete') {
        setTimeout(loadAdSense, 2000);
      } else {
        window.addEventListener('load', () => setTimeout(loadAdSense, 2000));
      }
    } else {
      // Desktop: load immediately
      loadAdSense();
    }
  </script>

</head>
<body class="bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-slate-50 min-h-screen" style="background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);">

  <!-- Main Container with Sidebars -->
  <div class="flex flex-col lg:flex-row w-full min-h-screen overflow-x-hidden max-w-full">
    
    <!-- Left Sidebar Ad (Desktop only) -->
    <aside class="hidden lg:block lg:flex-shrink-0 lg:sticky lg:self-start" style="width: 300px; min-width: 300px; top: 20px;">
      <div class="w-full bg-gray-700/50 p-4 mt-4 mx-2 sticky top-4" style="min-width: 250px;">
        <!-- Google AdSense Left Sidebar -->
        <ins class="adsbygoogle"
             style="display:block; text-align:center; min-width: 250px;"
             data-ad-layout="in-article"
             data-ad-format="fluid"
             data-ad-client="ca-pub-2042221703015293"
             data-ad-slot="5198028961"></ins>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 w-full max-w-4xl mx-auto px-4 sm:px-6 py-6 flex flex-col items-center animate-slide-in overflow-x-hidden">
    <div class="text-center mb-8">
      <div class="inline-block mb-4">
        <svg class="w-16 h-16 text-blue-400 animate-bounce-in" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="color: #60a5fa;">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 9h6M9 13h6M9 17h4"/>
        </svg>
      </div>
      <h1 class="text-4xl md:text-5xl font-bold mb-3 text-center bg-gradient-to-r from-blue-400 via-cyan-400 to-blue-500 bg-clip-text text-transparent" style="color: #60a5fa;">
        PDF ‚Üí JPG Converter
      </h1>
      <p class="text-slate-200 text-lg mb-2 font-medium">Convert PDF to JPG instantly in your browser</p>
      <p class="text-slate-400 text-sm">Free ‚Ä¢ Fast ‚Ä¢ No Upload Required ‚Ä¢ 100% Secure</p>
    </div>

    <!-- Drag & Drop Area -->
    <label class="w-full border-2 border-dashed border-slate-600 rounded-xl px-4 sm:px-8 md:px-12 py-8 md:py-12 flex flex-col items-center justify-center cursor-pointer hover:border-blue-400 hover:bg-slate-800/60 transition-all duration-300 mb-6 bg-slate-800/40 backdrop-blur-sm shadow-lg hover:shadow-blue-500/30 group transform max-w-full" id="dropzone" style="border-color: #475569;">
      <div class="mb-4 relative">
        <svg class="w-16 h-16 text-blue-400 group-hover:scale-110 transition-transform duration-300" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" style="color: #60a5fa;">
          <path stroke-linecap="round" stroke-linejoin="round" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
        </svg>
        <div class="absolute inset-0 flex items-center justify-center">
          <svg class="w-8 h-8 text-blue-300 opacity-0 group-hover:opacity-100 transition-opacity duration-300 animate-spin-slow" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="color: #93c5fd;">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M12 12V4m0 0l-3 3m3-3l3 3"/>
          </svg>
        </div>
      </div>
      <span id="dropLabel" class="text-slate-200 font-semibold text-lg mb-2 group-hover:text-blue-400 transition-colors" style="color: #e2e8f0;">Drag & drop your PDF here</span>
      <span class="text-slate-400 text-sm" style="color: #94a3b8;">or click to browse files</span>
      <input type="file" id="file" class="hidden" accept="application/pdf" />
    </label>

    <!-- Controls -->
    <div class="flex flex-wrap gap-4 w-full mb-6 justify-center items-end max-w-full px-2">
      <div class="bg-slate-800/60 backdrop-blur-sm rounded-xl p-4 shadow-lg" style="background-color: rgba(30, 41, 59, 0.7);">
        <label class="block text-slate-200 text-sm mb-2 font-medium flex items-center gap-2" style="color: #e2e8f0;">
          <svg class="w-4 h-4 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="color: #60a5fa;">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
          </svg>
          JPEG Quality
        </label>
        <input type="number" id="quality" min="0.1" max="1" step="0.1" value="0.85" class="px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 text-slate-50 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all w-32" style="background-color: #334155; border-color: #475569; color: #f8fafc;">
        <span class="text-xs text-slate-400 mt-1 block" style="color: #94a3b8;">0.1 (low) - 1.0 (high)</span>
      </div>
      <div class="bg-slate-800/60 backdrop-blur-sm rounded-xl p-4 shadow-lg" style="background-color: rgba(30, 41, 59, 0.7);">
        <label class="block text-slate-200 text-sm mb-2 font-medium flex items-center gap-2" style="color: #e2e8f0;">
          <svg class="w-4 h-4 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="color: #60a5fa;">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"/>
          </svg>
          Scale
        </label>
        <input type="number" id="scale" min="0.5" max="3" step="0.1" value="1.6" class="px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 text-slate-50 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all w-32" style="background-color: #334155; border-color: #475569; color: #f8fafc;">
        <span class="text-xs text-slate-400 mt-1 block" style="color: #94a3b8;">1.0 = original size</span>
      </div>
      <div class="flex flex-col gap-2">
        <button id="start" class="px-8 py-3 bg-gradient-to-r from-blue-500 to-cyan-500 text-white font-bold rounded-xl hover:from-blue-600 hover:to-cyan-600 transition-all duration-300 shadow-lg hover:shadow-blue-500/50 transform hover:scale-105 flex items-center gap-2" style="background: linear-gradient(to right, #3b82f6, #06b6d4); color: #ffffff; box-shadow: 0 10px 15px -3px rgba(59, 130, 246, 0.3);">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
          </svg>
          Convert PDF to JPG
        </button>
        <button id="cancel" class="px-6 py-2 border-2 border-slate-600 rounded-xl text-slate-300 hover:border-orange-400 hover:text-orange-400 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed" style="border-color: #475569; color: #cbd5e1;" disabled>
          Cancel
        </button>
      </div>
    </div>

    <!-- Progress -->
    <div class="w-full bg-slate-800/60 backdrop-blur-sm rounded-xl px-4 sm:px-6 py-6 shadow-lg mb-6 max-w-full" style="background-color: rgba(30, 41, 59, 0.7);">
      <div class="flex items-center justify-between mb-3">
        <span class="text-slate-200 font-medium flex items-center gap-2" style="color: #e2e8f0;">
          <svg class="w-5 h-5 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="color: #60a5fa;">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
          </svg>
          Progress
        </span>
        <span id="stats" class="text-sm text-slate-300 font-medium" style="color: #cbd5e1;">No file selected</span>
      </div>
      <div class="w-full h-4 bg-slate-700 rounded-full overflow-hidden shadow-inner" style="background-color: #334155;">
        <div id="bar" class="h-full bg-gradient-to-r from-blue-500 via-cyan-400 to-blue-500 w-0 progress-bar rounded-full relative" style="background: linear-gradient(to right, #3b82f6, #22d3ee, #3b82f6);">
          <div class="absolute inset-0 bg-white/30 animate-pulse"></div>
        </div>
      </div>
      <p id="log" class="text-sm text-slate-200 min-h-[32px] text-center mt-4 font-medium flex items-center justify-center gap-2" style="color: #e2e8f0;">
        <span class="inline-block">‚ú®</span>
        <span>Ready to convert your PDF files</span>
      </p>
    </div>

    <!-- How It Works Section -->
    <section class="w-full mb-8 bg-slate-800/60 backdrop-blur-sm rounded-xl px-4 sm:px-6 md:px-8 py-6 md:py-8 shadow-lg max-w-full">
      <h2 class="text-3xl font-bold mb-6 text-center bg-gradient-to-r from-blue-400 via-cyan-400 to-blue-500 bg-clip-text text-transparent">
        How It Works
      </h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 md:gap-6">
        <div class="text-center">
          <div class="w-16 h-16 mx-auto mb-4 bg-blue-500/20 rounded-full flex items-center justify-center">
            <span class="text-3xl font-bold text-blue-400">1</span>
          </div>
          <h3 class="text-lg font-semibold text-slate-200 mb-2">Select PDF</h3>
          <p class="text-slate-400 text-sm">Drag and drop your PDF file or click to browse and select from your computer.</p>
        </div>
        <div class="text-center">
          <div class="w-16 h-16 mx-auto mb-4 bg-blue-500/20 rounded-full flex items-center justify-center">
            <span class="text-3xl font-bold text-blue-400">2</span>
          </div>
          <h3 class="text-lg font-semibold text-slate-200 mb-2">Adjust Settings</h3>
          <p class="text-slate-400 text-sm">Set JPEG quality (0.1-1.0) and scale (0.5-3.0) to control image size and quality.</p>
        </div>
        <div class="text-center">
          <div class="w-16 h-16 mx-auto mb-4 bg-blue-500/20 rounded-full flex items-center justify-center">
            <span class="text-3xl font-bold text-blue-400">3</span>
          </div>
          <h3 class="text-lg font-semibold text-slate-200 mb-2">Convert</h3>
          <p class="text-slate-400 text-sm">Click "Convert PDF to JPG" and watch as each page is processed instantly in your browser.</p>
        </div>
        <div class="text-center">
          <div class="w-16 h-16 mx-auto mb-4 bg-blue-500/20 rounded-full flex items-center justify-center">
            <span class="text-3xl font-bold text-blue-400">4</span>
          </div>
          <h3 class="text-lg font-semibold text-slate-200 mb-2">Download</h3>
          <p class="text-slate-400 text-sm">All JPG images are automatically packaged in a ZIP file for easy download.</p>
        </div>
      </div>
    </section>

    <!-- Benefits Section -->
    <section class="w-full mb-8 bg-slate-800/60 backdrop-blur-sm rounded-xl px-4 sm:px-6 md:px-8 py-6 md:py-8 shadow-lg max-w-full">
      <h2 class="text-3xl font-bold mb-6 text-center bg-gradient-to-r from-blue-400 via-cyan-400 to-blue-500 bg-clip-text text-transparent">
        Why Convert PDF to JPG?
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6">
        <div class="bg-slate-700/50 rounded-lg p-6">
          <div class="text-4xl mb-3">üîí</div>
          <h3 class="text-xl font-semibold text-slate-200 mb-2">100% Private</h3>
          <p class="text-slate-400">Your PDF files never leave your computer. All conversion happens locally in your browser - no uploads, no server storage, complete privacy.</p>
        </div>
        <div class="bg-slate-700/50 rounded-lg p-6">
          <div class="text-4xl mb-3">‚ö°</div>
          <h3 class="text-xl font-semibold text-slate-200 mb-2">Lightning Fast</h3>
          <p class="text-slate-400">Convert PDF to JPG in seconds. No waiting for file uploads or server processing. Instant results right in your browser.</p>
        </div>
        <div class="bg-slate-700/50 rounded-lg p-6">
          <div class="text-4xl mb-3">üíØ</div>
          <h3 class="text-xl font-semibold text-slate-200 mb-2">High Quality</h3>
          <p class="text-slate-400">Adjustable quality and scale settings ensure your JPG images maintain excellent clarity and detail from your original PDF.</p>
        </div>
        <div class="bg-slate-700/50 rounded-lg p-6">
          <div class="text-4xl mb-3">üì±</div>
          <h3 class="text-xl font-semibold text-slate-200 mb-2">Multi-Page Support</h3>
          <p class="text-slate-400">Convert entire PDF documents with multiple pages. Each page becomes a separate JPG image, all packaged in one ZIP file.</p>
        </div>
        <div class="bg-slate-700/50 rounded-lg p-6">
          <div class="text-4xl mb-3">üÜì</div>
          <h3 class="text-xl font-semibold text-slate-200 mb-2">Completely Free</h3>
          <p class="text-slate-400">No hidden costs, no subscriptions, no watermarks. Convert unlimited PDFs to JPG images completely free of charge.</p>
        </div>
        <div class="bg-slate-700/50 rounded-lg p-6">
          <div class="text-4xl mb-3">üåê</div>
          <h3 class="text-xl font-semibold text-slate-200 mb-2">No Installation</h3>
          <p class="text-slate-400">Works entirely in your web browser. No software downloads, no plugins required. Works on Windows, Mac, Linux, and mobile devices.</p>
        </div>
      </div>
    </section>

    <!-- Use Cases Section -->
    <section class="w-full mb-8 bg-slate-800/60 backdrop-blur-sm rounded-xl px-4 sm:px-6 md:px-8 py-6 md:py-8 shadow-lg max-w-full">
      <h2 class="text-3xl font-bold mb-6 text-center bg-gradient-to-r from-blue-400 via-cyan-400 to-blue-500 bg-clip-text text-transparent">
        Common Use Cases
      </h2>
      <div class="space-y-4">
        <div class="flex items-start gap-4 p-4 bg-slate-700/50 rounded-lg">
          <div class="text-2xl">üìÑ</div>
          <div>
            <h3 class="text-lg font-semibold text-slate-200 mb-1">Extract Images from PDFs</h3>
            <p class="text-slate-400">Convert PDF pages to JPG format to extract images, diagrams, or graphics for use in presentations, documents, or social media.</p>
          </div>
        </div>
        <div class="flex items-start gap-4 p-4 bg-slate-700/50 rounded-lg">
          <div class="text-2xl">üìß</div>
          <div>
            <h3 class="text-lg font-semibold text-slate-200 mb-1">Email Attachments</h3>
            <p class="text-slate-400">Convert PDF documents to JPG images for easier email sharing, as many email clients handle images better than PDF attachments.</p>
          </div>
        </div>
        <div class="flex items-start gap-4 p-4 bg-slate-700/50 rounded-lg">
          <div class="text-2xl">üåê</div>
          <div>
            <h3 class="text-lg font-semibold text-slate-200 mb-1">Web Publishing</h3>
            <p class="text-slate-400">Transform PDF pages into web-friendly JPG images for websites, blogs, or online portfolios where image formats are preferred.</p>
          </div>
        </div>
        <div class="flex items-start gap-4 p-4 bg-slate-700/50 rounded-lg">
          <div class="text-2xl">üì±</div>
          <div>
            <h3 class="text-lg font-semibold text-slate-200 mb-1">Mobile Viewing</h3>
            <p class="text-slate-400">Convert PDFs to JPG for better viewing on mobile devices, as images load faster and are easier to navigate on small screens.</p>
          </div>
        </div>
        <div class="flex items-start gap-4 p-4 bg-slate-700/50 rounded-lg">
          <div class="text-2xl">üé®</div>
          <div>
            <h3 class="text-lg font-semibold text-slate-200 mb-1">Image Editing</h3>
            <p class="text-slate-400">Convert PDF pages to JPG format for editing in image editing software like Photoshop, GIMP, or other photo editing tools.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="w-full mb-8 bg-slate-800/60 backdrop-blur-sm rounded-xl px-4 sm:px-6 md:px-8 py-6 md:py-8 shadow-lg max-w-full" itemscope itemtype="https://schema.org/FAQPage">
      <h2 class="text-3xl font-bold mb-6 text-center bg-gradient-to-r from-blue-400 via-cyan-400 to-blue-500 bg-clip-text text-transparent">
        Frequently Asked Questions
      </h2>
      <div class="space-y-4">
        <div class="bg-slate-700/50 rounded-lg p-6" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
          <h3 class="text-lg font-semibold text-slate-200 mb-2" itemprop="name">How do I convert PDF to JPG?</h3>
          <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
            <p class="text-slate-400" itemprop="text">Simply drag and drop your PDF file into the upload area, adjust the quality and scale settings if needed, then click "Convert PDF to JPG". The conversion happens instantly in your browser, and all JPG images will be downloaded as a ZIP file.</p>
          </div>
        </div>
        <div class="bg-slate-700/50 rounded-lg p-6" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
          <h3 class="text-lg font-semibold text-slate-200 mb-2" itemprop="name">Is my PDF file uploaded to a server?</h3>
          <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
            <p class="text-slate-400" itemprop="text">No! Your PDF files never leave your computer. All conversion happens locally in your browser using JavaScript, ensuring complete privacy and security. No uploads, no server storage, no data transmission.</p>
          </div>
        </div>
        <div class="bg-slate-700/50 rounded-lg p-6" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
          <h3 class="text-lg font-semibold text-slate-200 mb-2" itemprop="name">What quality settings should I use?</h3>
          <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
            <p class="text-slate-400" itemprop="text">Quality ranges from 0.1 (lowest, smallest file) to 1.0 (highest, largest file). For most purposes, 0.85 provides an excellent balance between quality and file size. Use 1.0 for maximum quality when file size isn't a concern, or lower values for smaller file sizes.</p>
          </div>
        </div>
        <div class="bg-slate-700/50 rounded-lg p-6" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
          <h3 class="text-lg font-semibold text-slate-200 mb-2" itemprop="name">What does the scale setting do?</h3>
          <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
            <p class="text-slate-400" itemprop="text">Scale controls the resolution of the output JPG images. 1.0 = original PDF size, 2.0 = double the resolution, 0.5 = half the resolution. Higher scale values produce larger, sharper images but also larger file sizes. Default is 1.6 for optimal quality.</p>
          </div>
        </div>
        <div class="bg-slate-700/50 rounded-lg p-6" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
          <h3 class="text-lg font-semibold text-slate-200 mb-2" itemprop="name">Can I convert multi-page PDFs?</h3>
          <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
            <p class="text-slate-400" itemprop="text">Yes! Our PDF to JPG converter supports PDFs with any number of pages. Each page will be converted to a separate JPG image, and all images will be packaged in a single ZIP file for easy download.</p>
          </div>
        </div>
        <div class="bg-slate-700/50 rounded-lg p-6" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
          <h3 class="text-lg font-semibold text-slate-200 mb-2" itemprop="name">Is this service free?</h3>
          <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
            <p class="text-slate-400" itemprop="text">Yes, completely free! There are no hidden costs, no subscriptions, no watermarks, and no limits on the number of PDFs you can convert. Convert as many PDFs to JPG as you need, whenever you need.</p>
          </div>
        </div>
        <div class="bg-slate-700/50 rounded-lg p-6" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
          <h3 class="text-lg font-semibold text-slate-200 mb-2" itemprop="name">What browsers are supported?</h3>
          <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
            <p class="text-slate-400" itemprop="text">Our PDF to JPG converter works on all modern browsers including Chrome, Firefox, Safari, Edge, and Opera. It also works on mobile browsers. No plugins or extensions are required.</p>
          </div>
        </div>
        <div class="bg-slate-700/50 rounded-lg p-6" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
          <h3 class="text-lg font-semibold text-slate-200 mb-2" itemprop="name">How long does conversion take?</h3>
          <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
            <p class="text-slate-400" itemprop="text">Conversion is nearly instantaneous! Since everything happens in your browser, there's no upload time or server processing delay. Most PDFs convert in just a few seconds, depending on the number of pages and your device's performance.</p>
          </div>
        </div>
        <div class="bg-slate-700/50 rounded-lg p-6" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
          <h3 class="text-lg font-semibold text-slate-200 mb-2" itemprop="name">What file format will I get?</h3>
          <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
            <p class="text-slate-400" itemprop="text">You'll receive JPG (JPEG) image files. Each PDF page becomes a separate JPG file, and all files are packaged in a ZIP archive for convenient download. JPG is a widely supported image format compatible with all devices and software.</p>
          </div>
        </div>
        <div class="bg-slate-700/50 rounded-lg p-6" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
          <h3 class="text-lg font-semibold text-slate-200 mb-2" itemprop="name">Can I convert password-protected PDFs?</h3>
          <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
            <p class="text-slate-400" itemprop="text">Currently, password-protected PDFs cannot be converted. You'll need to remove the password protection from your PDF file first before converting it to JPG format.</p>
          </div>
        </div>
      </div>
    </section>

  </main>

    <!-- Right Sidebar Ad (Desktop only) -->
    <aside class="hidden lg:block lg:flex-shrink-0 lg:sticky lg:self-start" style="width: 300px; min-width: 300px; top: 20px;">
      <div class="w-full bg-gray-700/50 p-4 mt-4 mx-2 sticky top-4" style="min-width: 250px;">
        <!-- Google AdSense Right Sidebar -->
        <ins class="adsbygoogle"
             style="display:block; min-width: 250px;"
             data-ad-format="autorelaxed"
             data-ad-client="ca-pub-2042221703015293"
             data-ad-slot="2609300742"></ins>
      </div>
    </aside>
    
  </div>

  <!-- Bottom Ad Placeholder -->
  <div class="w-full bg-gray-700 text-center py-4 mt-auto overflow-x-hidden max-w-full">
    <!-- Google AdSense Bottom Banner -->
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-2042221703015293"
         data-ad-slot="9174709096"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
  </div>

  <!-- Libraries - Deferred for performance -->
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
  
  <!-- PDF.js library - Deferred and optimized loading -->
  <script>
  // Wait for both DOM and PDF.js to be ready
  let pdfjsReady = false;
  
  // Initialize PDF.js worker when library loads
  function initPDFJS(workerSrc) {
    if (typeof pdfjsLib !== 'undefined') {
      // Set worker source
      pdfjsLib.GlobalWorkerOptions.workerSrc = workerSrc || 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
      pdfjsReady = true;
      console.log('PDF.js initialized successfully');
      updateReadyState();
      return true;
    }
    return false;
  }

  function updateReadyState() {
    const logEl = document.getElementById('log');
    if (logEl && pdfjsReady) {
      logEl.innerHTML = '<span class="inline-block animate-bounce">‚ú®</span> <span>Ready to convert your PDF files</span>';
      logEl.style.color = '#60a5fa'; // blue-400
    }
  }

  // Fallback loading function
  function loadPDFJSFallback() {
    console.log('Trying fallback CDN for PDF.js...');
    const pdfjsScript = document.createElement('script');
    pdfjsScript.src = 'https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.min.js';
    pdfjsScript.onload = function() {
      if (initPDFJS('https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.worker.min.js')) {
        console.log('PDF.js loaded from jsDelivr CDN');
      } else {
        tryUnpkgFallback();
      }
    };
    pdfjsScript.onerror = function() {
      console.error('jsDelivr CDN failed, trying unpkg...');
      tryUnpkgFallback();
    };
    document.head.appendChild(pdfjsScript);
  }

  function tryUnpkgFallback() {
    const pdfjsScript = document.createElement('script');
    pdfjsScript.src = 'https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.min.js';
    pdfjsScript.onload = function() {
      if (initPDFJS('https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js')) {
        console.log('PDF.js loaded from unpkg CDN');
      } else {
        showError();
      }
    };
    pdfjsScript.onerror = function() {
      console.error('All CDNs failed to load PDF.js');
      showError();
    };
    document.head.appendChild(pdfjsScript);
  }

  function showError() {
    const logEl = document.getElementById('log');
    if (logEl) {
      logEl.textContent = 'Error: Failed to load PDF.js library. Check your internet connection and refresh the page.';
      logEl.style.color = '#f87171'; // red-400 (softer)
    }
  }

  // Load PDF.js only when needed (lazy load) - much better for mobile performance
  window.loadPDFJS = function() {
    if (window.pdfjsLoading) return; // Already loading
    window.pdfjsLoading = true;
    
    const pdfjsScript = document.createElement('script');
    pdfjsScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js';
    pdfjsScript.onload = function() {
      if (!initPDFJS()) {
        console.error('PDF.js loaded but initialization failed');
        loadPDFJSFallback();
      }
    };
    pdfjsScript.onerror = function() {
      console.error('cdnjs CDN failed, trying fallback...');
      loadPDFJSFallback();
    };
    document.head.appendChild(pdfjsScript);
  };
  
  // On desktop: load PDF.js after page load
  // On mobile: load only when user selects a file (handled in loadFile function)
  const isMobilePDF = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768;
  if (!isMobilePDF) {
    window.addEventListener('load', window.loadPDFJS);
  }
  </script>

  <script>
  // Initialize the rest when DOM is ready
  document.addEventListener('DOMContentLoaded', function() {

  const fileInput = document.getElementById('file');
  const drop = document.getElementById('dropzone');
  const dropLabel = document.getElementById('dropLabel');
  const startBtn = document.getElementById('start');
  const cancelBtn = document.getElementById('cancel');
  const qualityInput = document.getElementById('quality');
  const scaleInput = document.getElementById('scale');
  const bar = document.getElementById('bar');
  const stats = document.getElementById('stats');
  const log = document.getElementById('log');

  let currentFile = null;
  let controller = { cancelled:false };

  // No need for click listener - label automatically handles clicks on the input
  drop.addEventListener('dragover', e => { 
    e.preventDefault(); 
    drop.classList.add('border-teal-400', 'bg-teal-500/20', 'scale-105');
  });
  drop.addEventListener('dragleave', e => { 
    e.preventDefault(); 
    drop.classList.remove('border-teal-400', 'bg-teal-500/20', 'scale-105');
  });
  drop.addEventListener('drop', e => { 
    e.preventDefault(); 
    drop.classList.remove('border-teal-400', 'bg-teal-500/20', 'scale-105');
    const f = e.dataTransfer.files && e.dataTransfer.files[0]; 
    if(f) loadFile(f); 
  });
  fileInput.addEventListener('change', ()=> { if(fileInput.files && fileInput.files[0]) loadFile(fileInput.files[0]); });

  function loadFile(f){
    if(f.type !== 'application/pdf'){ 
      alert('Please select a PDF file'); 
      return; 
    }
    currentFile = f;
    drop.classList.add('border-blue-400', 'bg-blue-500/10');
    dropLabel.innerHTML = `<span class="text-blue-400 font-bold" style="color: #60a5fa;">‚úì</span> ${f.name}`;
    stats.textContent = `${(f.size/1024/1024).toFixed(2)} MB selected`;
    
    // On mobile: load PDF.js when user selects a file (lazy loading)
    const isMobileFile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768;
    if (isMobileFile && !pdfjsReady && typeof window.loadPDFJS === 'function' && !window.pdfjsLoading) {
      window.loadPDFJS();
    }
    
    if (pdfjsReady) {
      log.innerHTML = '<span class="inline-block animate-bounce">‚ú®</span> <span>Ready to convert! Click the button below.</span>';
      log.style.color = '#60a5fa'; // blue-400
      startBtn.classList.add('animate-pulse-glow');
    } else {
      log.innerHTML = '<span class="inline-block animate-spin-slow">‚è≥</span> <span>Loading PDF.js library...</span>';
      log.style.color = '#94a3b8'; // slate-400
    }
  }

  startBtn.addEventListener('click', ()=> {
    if(!currentFile){ 
      alert('Choose a PDF first'); 
      return; 
    }
    if(!pdfjsReady || typeof pdfjsLib === 'undefined'){
      alert('PDF.js library is still loading. Please wait a moment and try again.');
      return;
    }
    controller.cancelled = false;
    cancelBtn.disabled = false;
    startBtn.disabled = true;
    startBtn.classList.remove('animate-pulse-glow');
    startBtn.classList.add('opacity-75', 'cursor-not-allowed');
    log.innerHTML = '<span class="inline-block animate-spin-slow">‚öôÔ∏è</span> <span>Starting conversion...</span>';
    log.style.color = '#60a5fa'; // blue-400
    processPDF(currentFile, { quality: parseFloat(qualityInput.value)||0.85, scale: parseFloat(scaleInput.value)||1.6 });
  });

  cancelBtn.addEventListener('click', ()=> { 
    if(controller.cancelled) return; // Prevent multiple clicks
    controller.cancelled = true; 
    log.innerHTML = '<span class="inline-block animate-pulse">‚è∏Ô∏è</span> <span>Cancelling... Please wait...</span>';
    log.style.color = '#fb923c'; // orange-400 (softer than red)
    cancelBtn.disabled = true;
    cancelBtn.textContent = 'Cancelling...';
  });

  async function processPDF(file, opts){
    try{
      const arr = await file.arrayBuffer();
      const loadingTask = pdfjsLib.getDocument({ data: arr });
      const pdf = await loadingTask.promise;
      const num = pdf.numPages;
      const zip = new JSZip();
      updateProgress(0);
      stats.textContent = `Pages: ${num} ‚Äî processing...`;
      // Get base filename for better naming
      const baseName = file.name.replace(/\.pdf$/i,'').replace(/[^a-z0-9]/gi, '_').substring(0, 50) || 'pdf';
      
      for(let i=1;i<=num;i++){
        if(controller.cancelled){ throw new Error('Cancelled by user'); }
        log.innerHTML = `<span class="inline-block animate-spin-slow">üîÑ</span> <span>Rendering page <strong>${i}</strong> of <strong>${num}</strong>...</span>`;
        log.style.color = '#60a5fa'; // blue-400
        const page = await pdf.getPage(i);
        
        if(controller.cancelled){ throw new Error('Cancelled by user'); }
        
        const viewport = page.getViewport({ scale: opts.scale });
        const canvas = document.createElement('canvas');
        canvas.width = Math.floor(viewport.width);
        canvas.height = Math.floor(viewport.height);
        const ctx = canvas.getContext('2d');
        
        // Clear canvas to ensure clean image
        ctx.fillStyle = '#FFFFFF';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        
        await page.render({ canvasContext: ctx, viewport: viewport }).promise;
        
        if(controller.cancelled){ throw new Error('Cancelled by user'); }
        
        // Create JPEG blob with explicit MIME type and quality
        const blob = await new Promise(res => {
          canvas.toBlob(res, 'image/jpeg', Math.max(0.1,Math.min(1,opts.quality)));
        });
        
        if(controller.cancelled){ throw new Error('Cancelled by user'); }
        
        // Validate blob before adding to ZIP
        if (!blob || blob.size === 0) {
          throw new Error(`Failed to create image for page ${i}`);
        }
        
        // Use descriptive filename and add to ZIP
        const fileName = `${baseName}_page_${String(i).padStart(3,'0')}.jpg`;
        zip.file(fileName, blob, { binary: true });
        updateProgress(Math.round((i/num)*100));
        
        if(controller.cancelled){ throw new Error('Cancelled by user'); }
        
        await new Promise(r => setTimeout(r, 50));
      }
      
      if(controller.cancelled){ throw new Error('Cancelled by user'); }
      
      log.innerHTML = '<span class="inline-block animate-spin-slow">üì¶</span> <span>Creating ZIP file...</span>';
      log.style.color = '#60a5fa'; // blue-400
      // Generate ZIP with standard compression
      let zipCancelled = false;
      const content = await zip.generateAsync({ 
        type:'blob',
        compression: 'DEFLATE',
        compressionOptions: { level: 6 }
      }, meta => { 
        if(controller.cancelled) {
          zipCancelled = true;
        }
        updateProgress(Math.round(meta.percent)); 
      });
      
      if(controller.cancelled || zipCancelled){ throw new Error('Cancelled by user'); }
      const zipName = baseName + '_images.zip';
      saveAs(content, zipName);
      log.innerHTML = `<span class="inline-block animate-bounce-in">üéâ</span> <span>Success! ZIP file downloaded with <strong>${num}</strong> JPG file(s).</span>`;
      log.style.color = '#34d399'; // emerald-400 (softer green)
      stats.textContent = `‚úì Finished: ${num} page(s) processed successfully`;
      updateProgress(100);
      startBtn.classList.remove('opacity-75', 'cursor-not-allowed');
      
      // Track conversion in GA4
      if (typeof trackConversion === 'function') {
        trackConversion(num);
      }
    } catch(err){
      console.error(err);
      if(err.message === 'Cancelled by user') {
        log.innerHTML = '<span class="inline-block">‚è∏Ô∏è</span> <span>Conversion cancelled by user</span>';
        log.style.color = '#fb923c'; // orange-400
        stats.textContent = 'Cancelled';
      } else {
        log.innerHTML = `<span class="inline-block">‚ùå</span> <span>Error: ${err.message || err}</span>`;
        log.style.color = '#f87171'; // red-400 (softer)
        stats.textContent = '‚úó Conversion failed';
      }
      updateProgress(0);
      startBtn.classList.remove('opacity-75', 'cursor-not-allowed');
    } finally {
      startBtn.disabled = false;
      cancelBtn.disabled = true;
      cancelBtn.textContent = 'Cancel'; // Reset button text
      controller.cancelled = false; // Reset cancellation flag
    }
  }

  function updateProgress(pct){ bar.style.width = Math.min(100,Math.max(0,pct)) + '%'; }
  }); // End of DOMContentLoaded event listener
  </script>
  
  <!-- Initialize Google AdSense - Wait for script to load -->
  <script>
    // Initialize ads when AdSense script is ready
    function initAdSense() {
      if (typeof adsbygoogle !== 'undefined') {
        (adsbygoogle = window.adsbygoogle || []).push({});
        (adsbygoogle = window.adsbygoogle || []).push({});
        (adsbygoogle = window.adsbygoogle || []).push({});
      } else {
        // Retry if AdSense script hasn't loaded yet
        setTimeout(initAdSense, 100);
      }
    }
    
    // Delay ad initialization on mobile for better performance
    const isMobileAdInit = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768;
    
    if (isMobileAdInit) {
      // On mobile: wait longer before initializing ads
      window.addEventListener('load', () => {
        setTimeout(() => {
          if (document.readyState === 'complete') {
            initAdSense();
          } else {
            document.addEventListener('DOMContentLoaded', initAdSense);
          }
        }, 1500);
      });
    } else {
      // Desktop: initialize after DOM is ready
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initAdSense);
      } else {
        initAdSense();
      }
    }
  </script>

</body>
</html>
